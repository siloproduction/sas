@(user: Option[bean.User])

@dropdownElement(category: bean.Category, isSub: Boolean) = {
<li class="dropdown" on-toggle="toggled(open)">
    <a class="dropdown-toggle">
        @category.name @if(isSub) { > }
    </a>
    <ul class="dropdown-menu topnav-sub">
        @* DOES NOT TOGGLE THE DROPDOWN
        @category.subCategories().map { cat =>
            @dropdownElement(cat, true)
        }*@
        @category.pages().map { page =>
            <li><a href="/page/@page.permanentLink">@page.name</a></li>
        }
    </ul>
</li>
}

<div id="breadcrumbsAppEl" ng-controller="BreadcrumbsCtrl">

    <ul class="topnav">
        <ul class="topnav">
            <li>
                <a href="@routes.Application.index">ACCUEIL</a>
            </li>
            @for(category <- bean.Category.noCategory.subCategories()) {
                @dropdownElement(category, false)
            }
            @bean.Category.noCategory.pages().map { page =>
                <li><a href="/page/@page.permanentLink">@page.name</a></li>
            }
        </ul>
    </ul>
    <ul class="topnav pull-right">
        @views.html.loginPanel(user)
        <li>
            <a href="http://www.facebook.com/">
                <img class="icon" src="@routes.Assets.at("images/facebook.png")" alt="Facebook"/>
            </a>
        </li>
    </ul>
</div>