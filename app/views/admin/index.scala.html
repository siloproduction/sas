@(user: Option[bean.User], userPanel: Html, categoryPanel: Html, pagePanel: Html)

@import helper._

@scripts = {
    <script type="text/javascript" src="@routes.Assets.at("javascripts/ang-admin.js")"></script>

    <script type="text/javascript" src="@routes.Assets.at("javascripts/jwysiwyg/jquery.wysiwyg.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/jwysiwyg/controls/wysiwyg.colorpicker.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/jwysiwyg/controls/wysiwyg.cssWrap.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/jwysiwyg/controls/wysiwyg.image.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/jwysiwyg/controls/wysiwyg.link.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/jwysiwyg/controls/wysiwyg.table.js")"></script>

    <link type="text/css" rel="stylesheet" media="screen" href="@routes.Assets.at("javascripts/jwysiwyg/jquery.wysiwyg.css")" />
}

@main("Admin page", user, scripts) {

    <script type="text/javascript">
        $(function() {
            $( "#admin-tabs" ).tabs();
        });
        admin.fillCurrentUsers();
    </script>

    <div id="admin-tabs">
        <ul>
            <li><a href="#tabs-4">Angular</a></li>
            <li><a href="#tabs-1">User</a></li>
            <li><a href="#tabs-2">Category</a></li>
            <li><a href="#tabs-3">Page</a></li>
        </ul>
        <div id="tabs-4">



            <div ng-controller="AdminUserCtrl">
                <form>
                    <input type="hidden" ng-model="user.id" value="0">

                    <dl class=" ">
                        <dd><input type="text" ng-model="user.login" value="" placeholder="login" required></dd>
                    </dl>

                    <dl class=" ">
                        <dd><input type="password" ng-model="user.password" size="10" placeholder="xxxxxx" required></dd>
                    </dl>

                    <dl class=" " >
                        <dd>
                            <select name="profile" ng-model="user.profile" >
                                <option value="User">User</option>
                                <option value="Admin">Admin</option>
                            </select>
                        </dd>
                    </dl>

                    <dl class=" " >
                        [ <a href="" ng-click="createUser(user)">Create user</a> ]
                    </dl>

                </form>

                <span>{{users.length}} users</span>
                <div>
                    <ul class="no-bullet" ng-repeat="user in users">
                        <li>
                            <button>EDIT</button>
                            [ <a href="" ng-click="deleteUser(user.id)">DELETE</a> ]
                            {{user.login}} <span class="bold small">({{user.profile}})</span>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
        <div id="tabs-1">
            @userPanel
        </div>
        <div id="tabs-2">
            @categoryPanel
        </div>
        <div id="tabs-3">
            @pagePanel
        </div>
    </div>
}
